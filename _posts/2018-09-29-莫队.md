---
layout: post
title: 莫队
date: 2018-9-29
categories: blog
tags: [算法,根号复杂度,预处理]
description: 维护区间问题的离线数据结构.  
---

### 普通莫队:  
给定一个数组,q次询问,每次要求l至r的答案.  
假设当前已维护L至R的答案,考虑转移到l至r.  
如果在当前区间内增加和删除一个点复杂度为$O(K)$(一般是$O(1)$),
那么可以通过将l和r增加或减少$O(n)$次转换为L至R.  
这显然不够优从秀.  
离线将询问的l和r分块排序,那么每次转移复杂度为$O(\sqrt{n})$.  
怎么分块?  
按l所在的块($l/\sqrt{n}$)为第一关键字,r为第二关键字排序.  
